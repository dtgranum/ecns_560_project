"2021_release_num"=ER78001,
"2021_interview_id"=ER78002,
"2021_state_code"=ER78003,
"2021_current_state"=ER78004,
"2021_family_id"=ER78009,
"2021_religious_pref"=ER81188,
"2021_donations"=ER81340,
"2021_attendance"=ER81422,
"2021_income"=ER81775
)
View(raw_PSID)
View(clean_PSID)
library(tidyverse)
renamed_PSID <- raw_PSID |>
rename(
"2005_release_num"=ER25001,
"2005_interview_id"=ER25002,
"2005_state_code"=ER25003,
"2005_current_state"=ER25004,
"2005_family_id"=ER25009,
"2005_religious_pref"=ER27442,
"2005_donations"=ER27451,
"2005_attendance"=ER27708,
"2005_income"=ER28037,
"2007_release_num"=ER36001,
"2007_interview_id"=ER36002,
"2007_state_code"=ER36003,
"2007_current_state"=ER36004,
"2007_family_id"=ER36009,
"2007_religious_pref"=ER40614,
"2007_donations"=ER40622,
"2007_income"=ER41027,
"2009_release_num"=ER42001,
"2009_interview_id"=ER42002,
"2009_state_code"=ER42003,
"2009_current_state"=ER42004,
"2009_family_id"=ER42009,
"2009_religious_pref"=ER46592,
"2009_donations"=ER46600,
"2009_income"=ER46935,
"2011_release_num"=ER47301,
"2011_interview_id"=ER47302,
"2011_state_code"=ER47303,
"2011_current_state"=ER47304,
"2011_family_id"=ER47309,
"2011_religious_pref"=ER51953,
"2011_donations"=ER51961,
"2011_attendance"=ER52046,
"2011_income"=ER52343,
"2013_release_num"=ER53001,
"2013_interview_id"=ER53002,
"2013_state_code"=ER53003,
"2013_current_state"=ER53004,
"2013_family_id"=ER53009,
"2013_religious_pref"=ER57709,
"2013_donations"=ER57730,
"2013_income"=ER58152,
"2015_release_num"=ER60001,
"2015_interview_id"=ER60002,
"2015_state_code"=ER60003,
"2015_current_state"=ER60004,
"2015_family_id"=ER60009,
"2015_religious_pref"=ER64869,
"2015_donations"=ER64910,
"2015_income"=ER65349,
"2017_release_num"=ER66001,
"2017_interview_id"=ER66002,
"2017_state_code"=ER66003,
"2017_current_state"=ER66004,
"2017_family_id"=ER66009,
"2017_religious_pref"=ER70941,
"2017_donations"=ER71042,
"2017_attendance"=ER71064,
"2017_income"=ER71426,
"2019_release_num"=ER72001,
"2019_interview_id"=ER72002,
"2019_state_code"=ER72003,
"2019_current_state"=ER72004,
"2019_family_id"=ER72009,
"2019_religious_pref"=ER76960,
"2019_donations"=ER77064,
"2019_attendance"=ER77086,
"2019_income"=ER77448,
"2021_release_num"=ER78001,
"2021_interview_id"=ER78002,
"2021_state_code"=ER78003,
"2021_current_state"=ER78004,
"2021_family_id"=ER78009,
"2021_religious_pref"=ER81188,
"2021_donations"=ER81340,
"2021_attendance"=ER81422,
"2021_income"=ER81775
)
tidy_PSID <- renamed_PSID |>
pivot_longer(cols=2005_release_num:2021_income, names_to="year", values_to="income")
tidy_PSID <- renamed_PSID |>
pivot_longer(cols="2005_release_num":"2021_income", names_to="year", values_to="income")
View(tidy_PSID)
library(writexl)
install.packages(writexl)
install.packages("writexl")
library(writexl)
write_xlsx(renamed_PSID, "C:/Users/dtgra/OneDrive/Documents/GitHub/ecns_560_project/raw_PSID")
library(writexl)
write_xlsx(renamed_PSID, "C://Users//dtgra//OneDrive//Documents//GitHub//ecns_560_project//raw_PSID")
library(writexl)
write_xlsx(renamed_PSID, "C:\Users\dtgra\Dropbox\ECNS 560")
library(writexl)
write_xlsx(renamed_PSID, "C:\\Users\\dtgra\\Dropbox\\ECNS 560")
library(writexl)
write_xlsx(renamed_PSID, "C:\Users\dtgra\OneDrive\Desktop")
library(writexl)
write_xlsx(renamed_PSID, "C:\\Users\\dtgra\\OneDrive\\Desktop")
library(writexl)
write_xlsx(renamed_PSID, "C:\\Users\\dtgra\\OneDrive\\Desktop\\nlsy79")
write.csv(renamed_PSID, "C:\\Users\\dtgra\\OneDrive\\Desktop\\nlsy79")
write.csv(renamed_PSID, "C:\\Users\\dtgra\\OneDrive\\Desktop")
write.csv(renamed_PSID, file="C:\\Users\\dtgra\\OneDrive\\Desktop")
write.csv(renamed_PSID, file="C:\\Users\\dtgra\\OneDrive\\Desktop\\PSID.csv")
write.csv(renamed_PSID, file="C:\\Users\\dtgra\\OneDrive\\Desktop\\nlsy79\\PSID.csv")
tidy_PSID <- renamed_PSID |>
pivot_longer(cols=c("2005_income", "2007_income", "2009_income", "2011_income", "2013_income", "2015_income", "2017_income", "2019_income", "2021_income"), names_to="year", values_to="income")
View(tidy_PSID)
library(tidyverse)
renamed_PSID <- raw_PSID |>
rename(
"2005_release_num"=ER25001,
"2005_interview_id"=ER25002,
"2005_state_code"=ER25003,
"2005_current_state"=ER25004,
"2005_family_id"=ER25009,
"2005_religious_pref"=ER27442,
"2005_donations"=ER27451,
"2005_attendance"=ER27708,
"2005income"=ER28037,
"2007_release_num"=ER36001,
"2007_interview_id"=ER36002,
"2007_state_code"=ER36003,
"2007_current_state"=ER36004,
"2007_family_id"=ER36009,
"2007_religious_pref"=ER40614,
"2007_donations"=ER40622,
"2007income"=ER41027,
"2009_release_num"=ER42001,
"2009_interview_id"=ER42002,
"2009_state_code"=ER42003,
"2009_current_state"=ER42004,
"2009_family_id"=ER42009,
"2009_religious_pref"=ER46592,
"2009_donations"=ER46600,
"2009income"=ER46935,
"2011_release_num"=ER47301,
"2011_interview_id"=ER47302,
"2011_state_code"=ER47303,
"2011_current_state"=ER47304,
"2011_family_id"=ER47309,
"2011_religious_pref"=ER51953,
"2011_donations"=ER51961,
"2011_attendance"=ER52046,
"2011income"=ER52343,
"2013_release_num"=ER53001,
"2013_interview_id"=ER53002,
"2013_state_code"=ER53003,
"2013_current_state"=ER53004,
"2013_family_id"=ER53009,
"2013_religious_pref"=ER57709,
"2013_donations"=ER57730,
"2013income"=ER58152,
"2015_release_num"=ER60001,
"2015_interview_id"=ER60002,
"2015_state_code"=ER60003,
"2015_current_state"=ER60004,
"2015_family_id"=ER60009,
"2015_religious_pref"=ER64869,
"2015_donations"=ER64910,
"2015income"=ER65349,
"2017_release_num"=ER66001,
"2017_interview_id"=ER66002,
"2017_state_code"=ER66003,
"2017_current_state"=ER66004,
"2017_family_id"=ER66009,
"2017_religious_pref"=ER70941,
"2017_donations"=ER71042,
"2017_attendance"=ER71064,
"2017income"=ER71426,
"2019_release_num"=ER72001,
"2019_interview_id"=ER72002,
"2019_state_code"=ER72003,
"2019_current_state"=ER72004,
"2019_family_id"=ER72009,
"2019_religious_pref"=ER76960,
"2019_donations"=ER77064,
"2019_attendance"=ER77086,
"2019income"=ER77448,
"2021_release_num"=ER78001,
"2021_interview_id"=ER78002,
"2021_state_code"=ER78003,
"2021_current_state"=ER78004,
"2021_family_id"=ER78009,
"2021_religious_pref"=ER81188,
"2021_donations"=ER81340,
"2021_attendance"=ER81422,
"2021income"=ER81775
)
tidy_PSID <- renamed_PSID |>
pivot_longer(cols=c("2005_income", "2007_income", "2009_income", "2011_income", "2013_income", "2015_income", "2017_income", "2019_income", "2021_income"), names_to="year", values_to="income")
tidy_PSID <- renamed_PSID |>
pivot_longer(cols=c("2005income", "2007income", "2009income", "2011income", "2013income", "2015income", "2017income", "2019income", "2021income"), names_to="year", values_to="income")
library(tidyverse)
renamed_PSID <- raw_PSID |>
rename(
"2005_release_num"=ER25001,
"2005_interview_id"=ER25002,
"2005_state_code"=ER25003,
"2005_current_state"=ER25004,
"2005_family_id"=ER25009,
"2005_religious_pref"=ER27442,
"2005_donations"=ER27451,
"2005_attendance"=ER27708,
"2005"=ER28037,
"2007_release_num"=ER36001,
"2007_interview_id"=ER36002,
"2007_state_code"=ER36003,
"2007_current_state"=ER36004,
"2007_family_id"=ER36009,
"2007_religious_pref"=ER40614,
"2007_donations"=ER40622,
"2007"=ER41027,
"2009_release_num"=ER42001,
"2009_interview_id"=ER42002,
"2009_state_code"=ER42003,
"2009_current_state"=ER42004,
"2009_family_id"=ER42009,
"2009_religious_pref"=ER46592,
"2009_donations"=ER46600,
"2009"=ER46935,
"2011_release_num"=ER47301,
"2011_interview_id"=ER47302,
"2011_state_code"=ER47303,
"2011_current_state"=ER47304,
"2011_family_id"=ER47309,
"2011_religious_pref"=ER51953,
"2011_donations"=ER51961,
"2011_attendance"=ER52046,
"2011"=ER52343,
"2013_release_num"=ER53001,
"2013_interview_id"=ER53002,
"2013_state_code"=ER53003,
"2013_current_state"=ER53004,
"2013_family_id"=ER53009,
"2013_religious_pref"=ER57709,
"2013_donations"=ER57730,
"2013"=ER58152,
"2015_release_num"=ER60001,
"2015_interview_id"=ER60002,
"2015_state_code"=ER60003,
"2015_current_state"=ER60004,
"2015_family_id"=ER60009,
"2015_religious_pref"=ER64869,
"2015_donations"=ER64910,
"2015"=ER65349,
"2017_release_num"=ER66001,
"2017_interview_id"=ER66002,
"2017_state_code"=ER66003,
"2017_current_state"=ER66004,
"2017_family_id"=ER66009,
"2017_religious_pref"=ER70941,
"2017_donations"=ER71042,
"2017_attendance"=ER71064,
"2017"=ER71426,
"2019_release_num"=ER72001,
"2019_interview_id"=ER72002,
"2019_state_code"=ER72003,
"2019_current_state"=ER72004,
"2019_family_id"=ER72009,
"2019_religious_pref"=ER76960,
"2019_donations"=ER77064,
"2019_attendance"=ER77086,
"2019"=ER77448,
"2021_release_num"=ER78001,
"2021_interview_id"=ER78002,
"2021_state_code"=ER78003,
"2021_current_state"=ER78004,
"2021_family_id"=ER78009,
"2021_religious_pref"=ER81188,
"2021_donations"=ER81340,
"2021_attendance"=ER81422,
"2021"=ER81775
)
tidy_PSID <- renamed_PSID |>
pivot_longer(cols=c("2005", "2007", "2009", "2011", "2013", "2015", "2017", "2019", "2021"), names_to="year", values_to="income")
library(tidyverse)
renamed_PSID <- raw_PSID |>
rename(
"2005_release_num"=ER25001,
"2005_interview_id"=ER25002,
"2005_state_code"=ER25003,
"2005_current_state"=ER25004,
"2005_family_id"=ER25009,
"2005_religious_pref"=ER27442,
"2005_donations"=ER27451,
"2005_attendance"=ER27708,
"2005income"=ER28037,
"2007_release_num"=ER36001,
"2007_interview_id"=ER36002,
"2007_state_code"=ER36003,
"2007_current_state"=ER36004,
"2007_family_id"=ER36009,
"2007_religious_pref"=ER40614,
"2007_donations"=ER40622,
"2007income"=ER41027,
"2009_release_num"=ER42001,
"2009_interview_id"=ER42002,
"2009_state_code"=ER42003,
"2009_current_state"=ER42004,
"2009_family_id"=ER42009,
"2009_religious_pref"=ER46592,
"2009_donations"=ER46600,
"2009income"=ER46935,
"2011_release_num"=ER47301,
"2011_interview_id"=ER47302,
"2011_state_code"=ER47303,
"2011_current_state"=ER47304,
"2011_family_id"=ER47309,
"2011_religious_pref"=ER51953,
"2011_donations"=ER51961,
"2011_attendance"=ER52046,
"2011income"=ER52343,
"2013_release_num"=ER53001,
"2013_interview_id"=ER53002,
"2013_state_code"=ER53003,
"2013_current_state"=ER53004,
"2013_family_id"=ER53009,
"2013_religious_pref"=ER57709,
"2013_donations"=ER57730,
"2013income"=ER58152,
"2015_release_num"=ER60001,
"2015_interview_id"=ER60002,
"2015_state_code"=ER60003,
"2015_current_state"=ER60004,
"2015_family_id"=ER60009,
"2015_religious_pref"=ER64869,
"2015_donations"=ER64910,
"2015income"=ER65349,
"2017_release_num"=ER66001,
"2017_interview_id"=ER66002,
"2017_state_code"=ER66003,
"2017_current_state"=ER66004,
"2017_family_id"=ER66009,
"2017_religious_pref"=ER70941,
"2017_donations"=ER71042,
"2017_attendance"=ER71064,
"2017income"=ER71426,
"2019_release_num"=ER72001,
"2019_interview_id"=ER72002,
"2019_state_code"=ER72003,
"2019_current_state"=ER72004,
"2019_family_id"=ER72009,
"2019_religious_pref"=ER76960,
"2019_donations"=ER77064,
"2019_attendance"=ER77086,
"2019income"=ER77448,
"2021_release_num"=ER78001,
"2021_interview_id"=ER78002,
"2021_state_code"=ER78003,
"2021_current_state"=ER78004,
"2021_family_id"=ER78009,
"2021_religious_pref"=ER81188,
"2021_donations"=ER81340,
"2021_attendance"=ER81422,
"2021income"=ER81775
)
tidy_PSID <- renamed_PSID |>
pivot_longer(cols=c("2005income", "2007income", "2009income", "2011income", "2013income", "2015income", "2017income", "2019income", "2021income"), names_to="year", values_to="income")
library(tidyverse)
renamed_PSID <- raw_PSID |>
rename(
"2005_release_num"=ER25001,
"2005_interview_id"=ER25002,
"2005_state_code"=ER25003,
"2005_current_state"=ER25004,
"2005_family_id"=ER25009,
"2005_religious_pref"=ER27442,
"2005_donations"=ER27451,
"2005_attendance"=ER27708,
"2005_income"=ER28037,
"2007_release_num"=ER36001,
"2007_interview_id"=ER36002,
"2007_state_code"=ER36003,
"2007_current_state"=ER36004,
"2007_family_id"=ER36009,
"2007_religious_pref"=ER40614,
"2007_donations"=ER40622,
"2007_income"=ER41027,
"2009_release_num"=ER42001,
"2009_interview_id"=ER42002,
"2009_state_code"=ER42003,
"2009_current_state"=ER42004,
"2009_family_id"=ER42009,
"2009_religious_pref"=ER46592,
"2009_donations"=ER46600,
"2009_income"=ER46935,
"2011_release_num"=ER47301,
"2011_interview_id"=ER47302,
"2011_state_code"=ER47303,
"2011_current_state"=ER47304,
"2011_family_id"=ER47309,
"2011_religious_pref"=ER51953,
"2011_donations"=ER51961,
"2011_attendance"=ER52046,
"2011_income"=ER52343,
"2013_release_num"=ER53001,
"2013_interview_id"=ER53002,
"2013_state_code"=ER53003,
"2013_current_state"=ER53004,
"2013_family_id"=ER53009,
"2013_religious_pref"=ER57709,
"2013_donations"=ER57730,
"2013_income"=ER58152,
"2015_release_num"=ER60001,
"2015_interview_id"=ER60002,
"2015_state_code"=ER60003,
"2015_current_state"=ER60004,
"2015_family_id"=ER60009,
"2015_religious_pref"=ER64869,
"2015_donations"=ER64910,
"2015_income"=ER65349,
"2017_release_num"=ER66001,
"2017_interview_id"=ER66002,
"2017_state_code"=ER66003,
"2017_current_state"=ER66004,
"2017_family_id"=ER66009,
"2017_religious_pref"=ER70941,
"2017_donations"=ER71042,
"2017_attendance"=ER71064,
"2017_income"=ER71426,
"2019_release_num"=ER72001,
"2019_interview_id"=ER72002,
"2019_state_code"=ER72003,
"2019_current_state"=ER72004,
"2019_family_id"=ER72009,
"2019_religious_pref"=ER76960,
"2019_donations"=ER77064,
"2019_attendance"=ER77086,
"2019_income"=ER77448,
"2021_release_num"=ER78001,
"2021_interview_id"=ER78002,
"2021_state_code"=ER78003,
"2021_current_state"=ER78004,
"2021_family_id"=ER78009,
"2021_religious_pref"=ER81188,
"2021_donations"=ER81340,
"2021_attendance"=ER81422,
"2021_income"=ER81775
)
tidy_PSID <- renamed_PSID |>
pivot_longer(cols=c("2005income", "2007income", "2009income", "2011income", "2013income", "2015income", "2017income", "2019income", "2021income"), names_to="year", values_to="income") |>
str_replace_all("_income")
tidy_PSID <- renamed_PSID |>
pivot_longer(cols=c("2005_income", "2007_income", "2009_income", "2011_income", "2013_income", "2015_income", "2017_income", "2019_income", "2021_income"), names_to="year", values_to="income") |>
str_replace_all("_income")
tidy_PSID <- renamed_PSID |>
pivot_longer(cols=c("2005_income", "2007_income", "2009_income", "2011_income", "2013_income", "2015_income", "2017_income", "2019_income", "2021_income"), names_to="year", values_to="income") |>
str_replace_all("_")
tidy_PSID <- renamed_PSID |>
pivot_longer(cols=c("2005_income", "2007_income", "2009_income", "2011_income", "2013_income", "2015_income", "2017_income", "2019_income", "2021_income"), names_to="year", values_to="income")
tidy_PSID2 <- tidy_PSID |>
str_replace_all("_")
tidy_PSID <- renamed_PSID |>
pivot_longer(cols=c("2005_income", "2007_income", "2009_income", "2011_income", "2013_income", "2015_income", "2017_income", "2019_income", "2021_income"), names_to="year", values_to="income") |>
mutate(year = as.numeric(year))
tidy_PSID <- renamed_PSID |>
pivot_longer(cols=c("2005_income", "2007_income", "2009_income", "2011_income", "2013_income", "2015_income", "2017_income", "2019_income", "2021_income"), names_to="year", values_to="income")
tidy_PSID <- renamed_PSID |>
pivot_longer(cols=c("2005_income", "2007_income", "2009_income", "2011_income", "2013_income", "2015_income", "2017_income", "2019_income", "2021_income"), names_to="year", values_to="income")
library(ggplot2)
ggplot(tidy_PSID, aes(year, income)) + geom_point()
tidy_PSID <- renamed_PSID |>
pivot_longer(cols=c("2005_income", "2007_income", "2009_income", "2011_income", "2013_income", "2015_income", "2017_income", "2019_income", "2021_income"), names_to="year", values_to="income")
library(ggplot2)
ggplot(tidy_PSID, aes(year, income)) + geom_histogram()
tidy_PSID <- renamed_PSID |>
pivot_longer(cols=c("2005_income", "2007_income", "2009_income", "2011_income", "2013_income", "2015_income", "2017_income", "2019_income", "2021_income"), names_to="year", values_to="income")
library(ggplot2)
ggplot(tidy_PSID, aes(income)) + geom_histogram()
tidy_PSID <- renamed_PSID |>
pivot_longer(cols=c("2005_income", "2007_income", "2009_income", "2011_income", "2013_income", "2015_income", "2017_income", "2019_income", "2021_income"), names_to="year", values_to="income") |>
gsub('_income')
tidy_PSID <- renamed_PSID |>
pivot_longer(cols=c("2005_income", "2007_income", "2009_income", "2011_income", "2013_income", "2015_income", "2017_income", "2019_income", "2021_income"), names_to="year", values_to="income") |>
gsub('_income', tidy_PSID)
tidy_PSID <- renamed_PSID |>
pivot_longer(cols=c("2005_income", "2007_income", "2009_income", "2011_income", "2013_income", "2015_income", "2017_income", "2019_income", "2021_income"), names_to="year", values_to="income") |>
pivot_longer(cols=c("2005_donations", "2007_donations", "2009_donations", "2011_donations", "2013_donations", "2015_donations", "2017_donations", "2019_donations", "2021_donations"), names_to="year", values_to="donations")
tidy_PSID <- renamed_PSID |>
pivot_longer(cols=c("2005_income", "2007_income", "2009_income", "2011_income", "2013_income", "2015_income", "2017_income", "2019_income", "2021_income"), names_to="year1", values_to="income") |>
pivot_longer(cols=c("2005_donations", "2007_donations", "2009_donations", "2011_donations", "2013_donations", "2015_donations", "2017_donations", "2019_donations", "2021_donations"), names_to="year2", values_to="donations")
library(ggplot2)
ggplot(tidy_PSID, aes(income, donations)) + geom_smooth()
ggplot(tidy_PSID, aes(donations)) + geom_histogram()
library(skimr)
skim(donations)
library(ggplot2)
library(skimr)
skim(tidy_PSID$donations)
ggplot(tidy_PSID, aes(donations)) + geom_histogram()
ggplot(tidy_PSID, aes(income, donations)) + geom_smooth()
library(ggplot2)
library(skimr)
skim(tidy_PSID$donations)
ggplot(tidy_PSID, aes(donations)) + geom_histogram()
ggplot(tidy_PSID, aes(income, donations)) + geom_point()
